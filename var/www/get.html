<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>GET Minecraft</title>
	<link href="https://fonts.cdnfonts.com/css/minecraft-4" rel="stylesheet">
	<link rel="stylesheet" href="/styles/style.css">
</head>
<body>
	<main class="container">
		<h1>GET Method</h1>
		<form id="getForm" method="GET" action="/submit">
			<label for="name">Pseudo Minecraft :</label><br>
			<input type="text" name="name" id="name" placeholder="Ton pseudo Minecraft" required><br><br>
			<button type="submit">Envoyer</button>
		</form>
		<br>
		<a href="index.html" class="btn"><button type="button">Retour</button></a>
		<div id="resultat-get"></div>
	</main>

	<script>
		document.getElementById('getForm').addEventListener('submit', function(e) {
			e.preventDefault();
			const name = document.getElementById('name').value;
			fetch('/submit?name=' + encodeURIComponent(name))
				.then(response => response.text())
				.then(data => {
					document.getElementById('resultat-get').innerHTML = data;
				})
				.catch(error => {
					console.error('Error:', error);
					document.getElementById('resultat-get').innerHTML = 'Erreur lors de la requÃªte';
				});
		});
	</script>
</body>
</html>